## Меню VPN / Прокси

![Home security mail fetch hub](https://claudiacoord.github.io/SecurityHomeMailHub/assets/images/hsmh12-Menu-VPN-Proxy.png)

Управление поведением безопасных туннелей и прокси-серверов.
Из меню вы можете в любой момент подключить цепочку `VPN` туннель + `SSH Socks5` прокси, либо любой из них по отдельности. Это может потребоваться для использования защищенного туннеля внешними программами.

#### VPN сервис:

Ручное управление VPN-соединением, подменю позволяет запускать или останавливать службу.

#### SSH Socks (4.5) сервис:

Ручное управление соединением `SSH Socks4` или `SSH Socks5`, подменю позволяет запускать или останавливать службу.
Тип службы `Socks4` или `Socks5` определяется сервером, к которому осуществляется подключение.

#### Выбор - учетной записи VPN / учетной записи SSH Socks (4,5):

Активные учетные записи, доступные для выбора, не должны быть просрочены и должны быть включены.
Аккаунты, не соответствующие этим условиям, отображаются серым цветом и недоступны для выбора.

#### Выбор типа прокси-сервера:

Выберите предпочитаемый тип прокси-сервера: `HTTP`, `HTTPS`, `Socks4`, `Socks5`. Ваш выбор будет использован при установлении соединения для получения и отправки почты на внешние серверы. Конкретный адрес и порт прокси-сервера выбирается перебором с учетом указанного вами типа.

#### Всегда выбирайте случайную учетную запись VPN:

Если на момент отправки или получения почты с внешних серверов уже установлено соединение `VPN`, то при включении этой опции предыдущее соединение будет разорвано и установлено новое, выбор учетной записи `VPN` будет случайным.
Если эта опция отключена, то будет использоваться текущее соединение, если оно было установлено в момент начала почтового сеанса.

#### Всегда используйте VPN-подключение:

Если эта опция включена, то при отсутствии учетных записей, подходящих для активации `VPN`, соединение будет разорвано, а почтовая сессия остановлена.

#### Исключить локальную сеть из маршрутизации VPN:

Запрещает локальный сетевой трафик через `VPN` подключение.
Если этот параметр включен, `VPN` туннель не изменяет локальную таблицу маршрутизации при запуске. В этом случае запускаются пользовательские скрипты, при запуске туннеля выполняется `VPN/RouteAdd.cmd`, а при завершении туннеля выполняется `VPN/RouteDelete.cmd`.

Скрипты могут предусматривать изменение маршрутизации в соответствии с топологией вашей локальной сети.
По умолчанию он настроен на добавление транспортной сети `VPN` и установку `маршрута по умолчанию` на интерфейс `VPN`.
Конфигурация сценария по умолчанию использует `powershell`, который, как предполагается, присутствует в доступных путях.

#### Удалить не отвечающие прокси после отправки:

Если при переборе прокси-серверов во время установки соединения будут обнаружены серверы, вызвавшие ошибку, они будут удалены после завершения сеанса соединения. Если эта опция отключена, список серверов не изменится.
Типы прокси-серверов, к которым возможно применить автоудаление в случае ошибки: `HTTP`, `HTTPS`, `Socks4`, `Socks5`.

#### Информационная панель:

- <u>Тип прокси</u> - отображает тип, который будет использоваться при установлении соединения.
- <u>Выбранная учетная запись VPN</u> - имя активной учетной записи `VPN`.
- <u>Выбранная учетная запись SSH</u> - имя активной учетной записи `SSH`.
- <u>Учетная запись VPN может быть активирована</u> - отражает состояние подключения выбранной учетной записи.
- <u>VPN-туннель запущен</u> - туннель запущен.
- <u>VPN-туннель готов, ожидание</u> - туннель авторизован, маршрутизирован и ожидает переадресации трафика.
- <u>Начата активация VPN туннеля</u> - туннель активен и находится в процессе подключения и авторизации.
- <u>Начата проверка прокси-серверов</u> - начата проверка прокси-серверов, типы проверяемых серверов: `HTTP`, `HTTPS`, `Socks4`, `Socks5`.

#### Обновление статистики VPN/прокси:

Обновление данные в информационной панели.
